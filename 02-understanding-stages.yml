
trigger:
- main

pool:
  vmImage: ubuntu-latest
  
stages:
 - stage: Build  
   jobs:
   - job: FirstJob
     steps:
     - bash: echo FirstJob 
     - bash: echo $(PipeLineLevelVariable)
     - bash: echo $(Build.BuildNumber)
     - bash: echo $(Build.BuildId)
     - bash: echo $(Build.SourceBranchName)
     - bash: echo $(Build.SourcesDirectory)
     - bash: echo $(System.DefaultWorkingDirectory)
     - bash: ls -R $(System.DefaultWorkingDirectory)
     - bash: echo $(Build.ArtifactStagingDirectory)
     - bash: ls -R $(Build.ArtifactStagingDirectory)
     - bash: echo java -version
     - bash: echo node --version
     - bash: echo python --version
     - bash: echo mvn --version
     - task: CopyFiles@2
       inputs:
        SourceFolder: '$(System.DefaultWorkingDirectory)'
        Contents: |
          **/*.yml
          **/*.tf
        TargetFolder: '$(Build.ArtifactStagingDirectory)'
     - bash: ls -R $(Build.ArtifactStagingDirectory)
  #  - job: SecondJob
  #    steps: 
  #     - bash: echo SecondJob 
#  - stage: DevDeploy
#    variables:
#      environment: Dev
#    dependsOn: Build
#    jobs:
#    - job: DevDeployJob
#      steps:
#      - bash: echo ${environment}DevDeployJob
#  - stage: QaDeploy
#    variables:
#      environment: Qa
#    dependsOn: Build
#    jobs:
#     - job: QaDeployJob
#       steps:
#       -  bash: echo ${environment}QaDeployJob   
#  - stage: ProdDeploy
#    variables:
#      environment: Prod
#    dependsOn:
#     - DevDeploy
#     - QaDeploy
#    jobs:
#    - job: ProdDeploy
#      steps:
#      - bash: echo ${environment}ProdDeploy
